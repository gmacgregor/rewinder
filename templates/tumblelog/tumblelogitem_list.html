{% extends "tumblelog/base.html" %}
{% load custom_tags %}

{% block content %}
<p id="paginator">{% if paginator.has_previous %}<span class="previous"><a href="{% url tumblelog_list paginator.previous %}">Previous page</a></span>{% endif %}<span class="pages">{% for page in paginator.page_range %}{% if not page %}...{% else %}<a href="{% url tumblelog_list page %}">{% ifequal page paginator.page %}[{{ page }}]{% else %}{{ page }}{% endifequal %}</a>{% endif %}{% endfor %}</span>{% if paginator.has_next %}<span class="next"><a href="{% url tumblelog_list paginator.next %}">Next page</a></span>{% endif %}</p>

<div id="tumblelog">
{% autoescape off %}
    {% for item in paginator.object_list %}
        {% ifequal item.content_type.name "article" %}
        <div class="tumblelog-entry article">
            <h2>Article: <a href="{{ item.get_content_object.get_absolute_url }}">{{ item.get_content_object.headline }}</a></h2>
        </div>
        {% endifequal %}
        {% ifequal item.content_type.name "bookmark" %}
        <div class="tumblelog-entry link">
            <p class="tag"><a href="{% url bookmark_home %}">Link</a> <span class="date">{{ item.pub_date|date:"M d Y \a\t h:i a" }}</span></p>
            <h2><a href="{{ item.get_content_object.get_absolute_url }}">{{ item.get_content_object.description }}</a></h2>
            {% if item.get_content_object.extended_info %}
            <p class="description">{{ item.get_content_object.extended_info }}</p>
            {% endif %}
            <p class="visit"><a href="{{ item.get_content_object.url }}">View</a></p>
        </div>
        {% endifequal %}
        {% ifequal item.content_type.name "video" %}
        <div class="tumblelog-entry video">
            <p class="tag"><a href="{% url video_list %}">Video</a> <span class="date">{{ item.pub_date|date:"M d Y \a\t h:i a" }}</span></p>
            <h2><a href="{{ item.get_content_object.get_absolute_url }}">{{ item.get_content_object.title }}</a></h2>
            {% if item.get_content_object.youtube_small_image %}
            <img src="{{ item.get_content_object.youtube_small_image }}" width="130" height="97" style="border: 1px solid #ddd; padding: 2px;">
            {% endif %}
        </div>
        {% endifequal %}
        {% ifequal item.content_type.name "photo" %}
        <div class="tumblelog-entry photo">
            <p class="tag"><a href="{% url photo_home %}">Photo</a> <span class="date">{{ item.pub_date|date:"M d Y \a\t h:i a" }}</span></p>
            <p class="photo">
            <a href="{{ item.get_content_object.get_absolute_url }}" style="background-image: url({{ item.get_content_object.medium_url }}); background-repeat: no-repeat;" title="{{ item.get_content_object.title }}">{{ item.get_content_object.title }}</a>
            </p>
        </div>
        {% endifequal %}
        {% ifequal item.content_type.name "tweet" %}
        <div class="tumblelog-entry tweet">
            <p class="tag"><a href="{% url tweet_list %}">Tweet</a> <span class="date">{{ item.pub_date|date:"M d Y \a\t h:i a" }}</span></p>
            <h2>{{ item.get_content_object.text|twitter_links }}</h2>
            <p class="visit"><a href="{{ item.get_content_object.url }}">View</a></p>
        </div>
        {% endifequal %} 
    {% endfor %}
{% endautoescape %}
</div><!-- /#tumblelog -->

<p id="paginator">{% if paginator.has_previous %}<span class="previous"><a href="{% url tumblelog_list paginator.previous %}">Previous page</a></span>{% endif %}<span class="pages">{% for page in paginator.page_range %}{% if not page %}...{% else %}<a href="{% url tumblelog_list page %}">{% ifequal page paginator.page %}[{{ page }}]{% else %}{{ page }}{% endifequal %}</a>{% endif %}{% endfor %}</span>{% if paginator.has_next %}<span class="next"><a href="{% url tumblelog_list paginator.next %}">Next page</a></span>{% endif %}</p>

{% endblock %}